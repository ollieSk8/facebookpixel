<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>pixel</title>
	<meta property="og:url" content="https://olliesk8.github.io/facebookpixel"/>
	<meta property="og:type" content="website"/>
	<meta property="og:title" content="Deal of the Crowd test"/>
	<meta property="og:description" content="Deal of the Crowd description"/>
	<meta property="og:image" content="https://olliesk8.github.io/facebookpixel/test.jpg"/>
	<meta property="fb:app_id" content="128897894456695"/>
	<!-- Facebook Pixel Code -->
	<script>
		!function(f,b,e,v,n,t,s)
		{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
				n.callMethod.apply(n,arguments):n.queue.push(arguments)};
			if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
			n.queue=[];t=b.createElement(e);t.async=!0;
			t.src=v;s=b.getElementsByTagName(e)[0];
			s.parentNode.insertBefore(t,s)}(window, document,'script',
				'https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '187252765164096');
		fbq('track', 'PageView');
	</script>
	<noscript>c
		<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=187252765164096&ev=PageView&noscript=1"/>
	</noscript>
	<!-- End Facebook Pixel Code -->
	<script>
		window.fbAsyncInit = function() {
			FB.init({
				appId            : '128897894456695',
				autoLogAppEvents : true,
				xfbml            : true,
				version          : 'v2.11'
			});
		};

		(function(d, s, id){
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) {return;}
			js = d.createElement(s); js.id = id;
			js.src = "https://connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>
	<script>window.twttr = (function(d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0],
				t = window.twttr || {};
		if (d.getElementById(id)) return t;
		js = d.createElement(s);
		js.id = id;
		js.src = "https://platform.twitter.com/widgets.js";
		fjs.parentNode.insertBefore(js, fjs);

		t._e = [];
		t.ready = function(f) {
			t._e.push(f);
		};

		return t;
	}(document, "script", "twitter-wjs"));</script>
</head>
<body>
<button id="bargain" value="bargain">bargain</button><br>
<button id="submit" value="bargain">submit</button><br>
<button id="visit" value="bargain">visit</button>
<br>
<div class="fb-share-button"
	 data-href="https://olliesk8.github.io/facebookpixel"
	 data-layout="button_count">
</div>
<br>
<button value="share-to-facebook" id="share-to-facebook">share to facebook</button>
<br>
<button value="share-to-twitter" id="share-to-twitter">share to twitter</button>
<script type="text/javascript">
//测试像素点
document.getElementById('bargain').addEventListener('click',function(){
	console.log('bargain click');
	fbq('trackCustom', 'bargain', {
		num_bargain: 1
	});
},false)

document.getElementById('submit').addEventListener('click',function(){
	console.log('submit click');
	fbq('trackCustom', 'submit', {
		num_submit: 1
	});
},false)

document.getElementById('visit').addEventListener('click',function(){
	console.log('visit click');
	fbq('track', 'visit');
},false)
//测试facebook分享
document.getElementById('share-to-facebook').addEventListener('click',function(){
	console.log('share facebook click');
	FB.ui(
			{
				method: 'share',
				href: 'https://olliesk8.github.io/facebookpixel',
			},
			// callback
			function(response) {
				if (response && !response.error_message) {
					alert('Posting completed.');
				} else {
					alert('Error while posting.');
				}
			}
	);
},false)

//测试twitter
document.getElementById('share-to-twitter').addEventListener('click',function(){
	console.log('twitter click');
	window.open('https://twitter.com/intent/tweet?text=Deal of the Crowd description&url=https://olliesk8.github.io/facebookpixel')
},false)
</script>
</body>
</html>
